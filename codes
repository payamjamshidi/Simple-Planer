import time
import tkinter as tk
from tkinter import simpledialog
from tkinter import messagebox

Plan_List = []

root = tk.Tk()
root.title("symple_planer")
root.geometry("300x300")

def handle_choice(choice):
    global Plan_List
    
    if choice == 1 :
        messagebox.showinfo("Date and Time", time.strftime("%Y-%m-%d %H:%M:%S", time.localtime()))
    
    elif choice == 2 :
         plan = simpledialog.askstring("Add Plan", "Enter your plan:")
         if plan:
            Plan_List.append(plan)
            plan_text = "\n".join(f"{i}. {p}" for i , p in enumerate(Plan_List, start=1))
            messagebox.showinfo("Plan Added", plan_text )


    elif choice == 3 :
        if not Plan_List:
            messagebox.showerror("errore" , "not found")
            return
        plan_remove = simpledialog.askinteger("remove plan" , "\nenter number you want delete\n" )

        if 1 <= plan_remove <= len(Plan_List):
            Plan_List.pop(plan_remove -1)
            plan_text = "\n".join(f"{i}. {p}" for i , p in enumerate(Plan_List, start=1))
            messagebox.showinfo("Plan Added", plan_text )
        elif 1 >= plan_remove >= len(Plan_List):
             messagebox.showinfo("error", "invalid number" )


    elif choice == 4 :        
        if Plan_List:
            plan_text = "\n".join(f"{i}. {p}" for i , p in enumerate(Plan_List, start=1))
            messagebox.showinfo("Plan Added", plan_text )
            with open("demofile.txt", "w", encoding="utf-8") as f:
                f.write(plan_text + "\n")

            with open("demofile.txt", "r", encoding="utf-8") as f:
                messagebox.showinfo("file svad",f.read())
            messagebox.showinfo("save data","\nPlans saved to plans.txt\n" )
        
        else:
            messagebox.showinfo("No Plans", "هیچ پلنی ثبت نشده!")

    elif choice == 5:
        root.destroy()

button1 = tk.Button(root, text="date and time", command=lambda: handle_choice(1))
button2 = tk.Button(root, text="add plan", command=lambda: handle_choice(2))
button3 = tk.Button(root, text="remove plan", command=lambda: handle_choice(3))
button4 = tk.Button(root, text="show", command=lambda: handle_choice(4))
button5 = tk.Button(root, text="exit", command=lambda: handle_choice(5))

button1.pack(pady=10)
button2.pack(pady=10)
button3.pack(pady=10)
button4.pack(pady=10)
button5.pack(pady=10)

root.mainloop()
